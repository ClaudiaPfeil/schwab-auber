<%#
# Titel:          Ogone Payment-Schnittstelle
# Beschreibung:   Alle notwendigen Parameter zur Ãœbermittlung
# Autor:          Claudia Pfeil
# Datum:          20.12.2010
%>

<%# Payment-Anbindung%>
<%# General params:%>
<%= bank.input :PSPID, :as => :hidden, :value => 'pauber' %>
<%= bank.input :ORDERID, :as => :hidden, :value => id %>

<% if params[:upgrade] %>
<%# debugger %>
  <%= bank.input :AMOUNT, :as => :hidden, :value => get_membership_price %>
<% else %>
  <%= bank.input :AMOUNT, :as => :hidden, :value => get_price %>
<% end %>

<%= bank.input :CURRENCY, :as => :hidden, :value => 'EUR' %>
<%= bank.input :LANGUAGE, :as => :hidden, :value => 'de-D' %>

<%# Customer params:%>
<%= bank.input :EMAIL, :as => :hidden, :value => current_user.email %>

<%# SHA-1-IN signature %>
<%= bank.input :SHASIGN, :as => :hidden, :value => 'schwab_und_auber_21' %>

<%# Look & Feel:%>
<%= bank.input :TITLE, :as => :hidden, :value => 'KidsKarton.de' %>
<%= bank.input :BGCOLOR, :as => :hidden, :value => '#CCCC99' %>
<%= bank.input :TXTCOLOR, :as => :hidden, :value => '#222222' %>
<%= bank.input :TBLBGCOLOR, :as => :hidden, :value => '#000000' %>
<%= bank.input :TBLTXTCOLOR, :as => :hidden, :value => '#222222' %>
<%= bank.input :BUTTONBGCOLOR, :as => :hidden, :value => '#336699' %>
<%= bank.input :BUTTONTXTCOLOR, :as => :hidden, :value => '#09f' %>
<%= bank.input :LOGO, :as => :hidden, :value => 'http://localhost:3000/images/rails.png' %>
<%= bank.input :FONTTYPE, :as => :hidden, :value => 'Helvetica Neue, Arial, Helvetica, sans-serif' %>

<%# dynamic template:%>
<%= bank.input :TP, :as => :hidden, :value => 'http://localhost:3000/' %>

<%# payment methods/page specifics: %>
<%= bank.input :PM, :as => :hidden %>
<%= bank.input :TXTOKEN, :as => :hidden %>
<%= bank.input :BRAND, :as => :hidden %>
<%= bank.input :WIN3DS, :as => :hidden %>
<%= bank.input :PMLIST, :as => :hidden %>
<%= bank.input :PMLISTTYPE, :as => :hidden %>

<%# link to my website%>
<%= bank.input :HOMEURL, :as => :hidden, :value => Payment::HOME_URL %>
<%= bank.input :CATALOGURL, :as => :hidden, :value => Payment::CATALOG_URL %>

<%# post payment params%>
<%= bank.input :COMPLUS, :as => :hidden, :value => id %>
<%= bank.input :PARAMPLUS, :as => :hidden, :value => 'id='+ current_user.id.to_s %>
<%#= bank.input :PARAMVAR, :as => :hidden, :value => '' %>

<%# optional operation field%>
<%= bank.input :ACCEPTURL, :as => :hidden, :value => Payment::ACCEPT_URL %>
<%= bank.input :DECLINEURL, :as => :hidden, :value => Payment::DECLINE_URL %>
<%= bank.input :EXCEPTIONURL, :as => :hidden, :value => Payment::EXCEPTION_URL %>
<%= bank.input :CANCELURL, :as => :hidden, :value => Payment::CANCEL_URL %>

<%# optional extra login detail %>
<%= bank.input :OPERATION, :as => :hidden, :value => 'SAL' %>
<%= bank.input :USERID, :as => :hidden, :value => current_user.id %>



